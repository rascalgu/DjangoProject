{% extends 'testtools/base.html' %}
{% load staticfiles %}

{% block content %}

<script type="text/javascript">
    $(document).ready(function () {
        $("#interfacelist li").click(function () {
            var url = $(this).find('a').attr('href');
            $.ajax({
                url: url,
                type: "get",
                dataType: "text",
                success: function(data){
                        $("#responsedata").html(data);
                },
                async: false,
            });
        });
    });
</script>

<div id="rightside">
    <div id="interfacelist">
        接口列表:
        <ul>
            {% for intf in interface_list %}
            <li id="requestlink ">
                {{ intf.id}}
                {{ intf.interface_sn }}
                {{ intf.interface_name }}
                {{ intf.request_method }}
                <a id="testAjax" href="{{ intf.request_link }}" target="_blank">{{ intf.request_link }}</a>
                {{ intf.interface_desc }}
            </li>
            {% endfor %}
        </ul>
    </div>

    <div id="response">
<textarea id="responsedata" disabled="disabled">
</textarea>
    </div>
    <input style="margin: 20px" type="button" id="clear" value="清空"/>
    <script type="text/javascript">
        $("#clear").click(function () {
            $("#responsedata").val('');
        })
    </script>
</div>
{% endblock %}